import"https://unpkg.com/@wangeditor/editor@latest/dist/index.js";import{a as i,S as n,M as d}from"./main-b28f6a90.js";const{VITE_BASEURL:m}={VITE_BASEURL:"https://triangle-golk-json-server.onrender.com",BASE_URL:"/Triangle_Golk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},u={async post(t){try{const o={...t,userId:Number(localStorage.getItem("userId")),timer:new Date().getTime(),isPassed:-1},a=await i.post(`${m}/coursesApplies`,o);return console.log(a),n.fire({scrollbarPadding:!1,title:"已送出",icon:"success",text:"感謝您的推薦，我們將於 7-14 天內給予您答覆！",showConfirmButton:!1,timer:1500}),a.data}catch(o){console.log(o)}}},e=document.querySelector(".apply-form"),p=document.querySelector(".apply-btn"),l=document.querySelector("#apply-modal"),s=new d(l);let r;p.addEventListener("click",()=>s.show());e.addEventListener("submit",function(t){if(t.preventDefault(),!e["course-name"].value||!e["brand-name"].value||!e["course-link"].value)return;if(!r||r==="<p><br></p>"){n.fire({scrollbarPadding:!1,icon:"error",title:"請輸入理由"});return}const o={title:e["course-name"].value,platform:e["brand-name"].value,reason:e["course-link"].value,url:r};u.post(o),s.hide()});l.addEventListener("hidden.bs.modal",()=>{e.classList.remove("was-validated"),c.setHtml(""),e.reset()});const{createEditor:f,createToolbar:g}=window.wangEditor,b={placeholder:"最多不超過 400 字",maxLength:400,onChange(t){r=t.getHtml()}},c=f({selector:"#editor-container",html:"<p><br></p>",config:b,mode:"simple"}),v={toolbarKeys:["bold","underline","italic","|","undo","redo"]};g({editor:c,selector:"#toolbar-container",config:v,mode:"default"});

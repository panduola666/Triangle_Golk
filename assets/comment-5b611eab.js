import{a as o,S as r}from"./footer-593f08a3.js";const{VITE_BASEURL:a}={VITE_BASEURL:"https://triangle-golk-json-server.onrender.com",BASE_URL:"/Triangle_Golk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},u={async addComment(s){try{const t=await o.post(`${a}/comments`,s);return(await r.fire({icon:"success",text:"評價成功，我們將於 7-14 天內審核證明，若成功即可在課程頁面內查看自已的評價！",showConfirmButton:!1,timer:2e3})).isDismissed&&(location.href="/pages/user_courses.html"),t.data}catch(t){console.log(t),await r.fire({icon:"error",text:"新增評論失敗, 請聯繫客服處理"})}},async editorComment(s,t){try{const e=await o.patch(`${a}/comments/${s}`,t);return(await r.fire({icon:"success",text:"修改評價成功，我們將於 7-14 天內審核證明，若成功即可在課程頁面內查看自已的評價！",showConfirmButton:!1,timer:2e3})).isDismissed&&(location.href="/pages/user_courses.html"),e.data}catch(e){console.log(e);const c=await r.fire({icon:"error",text:"修改評論失敗, 請聯繫客服處理"});(c.isConfirmed||c.isDismissed)&&(location.href="/pages/user_courses.html")}},async getCurrent(s){try{return(await o.get(`${a}/comments/${s}?_expand=user&_expand=course`)).data}catch(t){console.log(t);const e=await r.fire({icon:"error",text:"查無此評論"});(e.isConfirmed||e.isDismissed)&&(location.href="/pages/user_courses.html")}},async getComments(s=1,t=6,e="timer",c="desc",i){try{const n=await o.get(`${a}/comments?courseId=${i}`),l=await o.get(`${a}/comments?courseId=${i}&_expand=user&_page=${s}&_limit=${t}&_sort=${e}&_order=${c}`);return{totalPages:Math.ceil(n.data.length/6),currentPage:s,data:l.data}}catch(n){console.log(n),await r.fire({icon:"error",title:"獲取評論失敗"})}},async likeComment(s,t){try{const e=await o.patch(`${a}/comments/${s}`,t);console.log(e)}catch(e){console.log(e)}}};export{u as C};

import{a as n,S as c}from"./footer-203576fd.js";const{VITE_BASEURL:i}={VITE_BASEURL:"https://triangle-golk-json-server.onrender.com",BASE_URL:"/Triangle_Golk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g={async getCourse(r){try{const o=await n.get(`${i}/courses/${r}?_embed=comments&_embed=passes`),{comments:e=[]}=o.data,s=e.reduce((t,a)=>t+=Number(a.score),0)/(e.length||1);return{...o.data,avgScore:Math.floor(s)}}catch(o){if(console.log(o),o.response.status===404){const e=await c.fire({icon:"error",text:"查無此課程"});(e.isConfirmed||e.isDismissed)&&window.history.go(-1)}}},async getAllCourses(){try{return(await n.get(`${i}/courses?_embed=comments&_embed=favorites`)).data.map(e=>{const{comments:s=[]}=e,t=s.reduce((a,l)=>a+=Number(l.score),0)/(s.length||1);return{...e,avgScore:Math.floor(t)}})}catch(r){console.log(r),await c.fire({icon:"error",text:"取得課程失敗"})}}};export{g as C};

import{a,S as r}from"./main-4c0e2c7d.js";const{VITE_BASEURL:o}={VITE_BASEURL:"https://triangle-golk-json-server.onrender.com",BASE_URL:"/Triangle_Golk/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},d={async addComment(t){try{const e=await a.post(`${o}/comments`,t);return(await r.fire({scrollbarPadding:!1,icon:"success",text:"評價成功，我們將於 7-14 天內審核證明，若成功即可在課程頁面內查看自已的評價！",showConfirmButton:!1,timer:2e3})).isDismissed&&(location.href="/pages/user_courses.html"),e.data}catch(e){console.log(e),await r.fire({scrollbarPadding:!1,icon:"error",text:"新增評論失敗, 請聯繫客服處理"})}},async editorComment(t,e){try{const s=await a.patch(`${o}/comments/${t}`,e);return(await r.fire({scrollbarPadding:!1,icon:"success",text:"修改評價成功，我們將於 7-14 天內審核證明，若成功即可在課程頁面內查看自已的評價！",showConfirmButton:!1,timer:2e3})).isDismissed&&(location.href="/pages/user_courses.html"),s.data}catch(s){console.log(s);const c=await r.fire({scrollbarPadding:!1,icon:"error",text:"修改評論失敗, 請聯繫客服處理"});(c.isConfirmed||c.isDismissed)&&(location.href="/pages/user_courses.html")}},async getCurrent(t){try{return(await a.get(`${o}/comments/${t}?_expand=user&_expand=course`)).data}catch(e){console.log(e);const s=await r.fire({scrollbarPadding:!1,icon:"error",text:"查無此評論"});(s.isConfirmed||s.isDismissed)&&(location.href="/pages/user_courses.html")}},async getComments(t=1,e=6,s="timer",c="desc",i){try{const n=await a.get(`${o}/comments?courseId=${i}`),l=await a.get(`${o}/comments?courseId=${i}&_expand=user&_page=${t}&_limit=${e}&_sort=${s}&_order=${c}`);return{totalPages:Math.ceil(n.data.length/6),currentPage:t,data:l.data}}catch(n){console.log(n),await r.fire({scrollbarPadding:!1,icon:"error",title:"獲取評論失敗"})}},async likeComment(t,e){try{const s=await a.patch(`${o}/comments/${t}`,e)}catch(s){console.log(s)}}};export{d as C};
